<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrafikLand Sublimación y Estampados DTF</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- React and ReactDOM CDNs - Load as global scripts -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react.development.js"></script>

    <!-- Babel Standalone para transpilar JSX en el navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Evita el scroll horizontal */
        }
        /* Animación para el texto del título */
        @keyframes pulse-slow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .animate-pulse-slow {
            animation: pulse-slow 4s infinite ease-in-out;
        }
        /* Animación para el botón "Elige tu diseño ahora!" */
        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
            animation: bounce-slow 3s infinite ease-in-out;
        }
        /* Custom scrollbar for a darker theme */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #1a202c; /* Dark background for the track */
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #8b5cf6, #ec4899, #ef4444); /* Rainbow gradient thumb */
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #a78bfa, #f472b6, #f87171);
        }
    </style>
</head>
<body class="bg-black">
    <div id="root"></div>

    <script type="text/babel">
        // Access React and ReactDOM globally from the window object
        const React = window.React;
        const ReactDOM = window.ReactDOM;
        const { useState, useEffect, createContext, useContext } = React;

        // Context for the shopping cart
        const CartContext = createContext();

        // Main App Component
        const App = () => {
          // Initialize products with some default data
          const [products, setProducts] = useState([
            { id: '1', name: "Playera Personalizada", image: "https://placehold.co/600x400/1a202c/E0BBE4?text=Playera+DTF", description: "Diseños vibrantes y duraderos con estampado DTF.", price: 250.00, category: 'playeras' },
            { id: '2', name: "Taza Mágica Sublimada", image: "https://placehold.co/600x400/1a202c/957DAD?text=Taza+Sublimada", description: "Revela tu diseño con el calor.", price: 150.00, category: 'tazas' },
            { id: '3', name: "Gorra Bordada Premium", image: "https://placehold.co/600x400/1a202c/D291BC?text=Gorra+Personalizada", description: "Personalización de alta calidad para tu estilo.", price: 120.00, category: 'gorras' },
            { id: '4', name: "Termo de Acero Inoxidable", image: "https://placehold.co/600x400/1a202c/CBAACB?text=Termo+Personalizado", description: "Mantén tus bebidas frías o calientes por horas.", price: 300.00, category: 'termos' },
            { id: '5', name: "Lapicero Grabado Láser", image: "https://placehold.co/600x400/1a202c/FFC0CB?text=Lapicero+Grabado", description: "Un toque elegante para tu escritorio.", price: 10.00, category: 'lapiceros' },
            { id: '6', name: "Vaso Tequilero Personalizado", image: "https://placehold.co/600x400/1a202c/AEC6CF?text=Vaso+Tequilero", description: "Ideal para tus celebraciones especiales.", price: 45.00, category: 'tequileros' },
            { id: '7', name: "Vaso Cervecero de Cristal", image: "https://placehold.co/600x400/1a202c/B3E0FF?text=Vaso+Cervecero", description: "Disfruta tu cerveza favorita con tu diseño.", price: 180.00, category: 'vasos' },
          ]);
          const [cartItems, setCartItems] = useState([]);
          const [activeSection, setActiveSection] = useState('home'); // For navigation
          const [showModal, setShowModal] = useState(false);
          const [modalContent, setModalContent] = useState('');
          const [showMobileMenu, setShowMobileMenu] = useState(false); // State for mobile menu

          console.log("App component rendering...");

          // Cart functions (now managed in React local state)
          const addToCart = (productToAdd) => {
            console.log("Adding to cart:", productToAdd.name);
            // Check if the product already exists in the cart
            const existingItem = cartItems.find(item => item.productId === productToAdd.id);

            if (existingItem) {
              // If it exists, update the quantity
              setCartItems(cartItems.map(item =>
                item.productId === productToAdd.id
                  ? { ...item, quantity: item.quantity + 1 }
                  : item
              ));
              console.log("Updated cart item quantity for:", productToAdd.name);
            } else {
              // If not, add the new product to the cart
              setCartItems([...cartItems, {
                id: Date.now().toString(), // Generate a simple unique ID for the cart item
                productId: productToAdd.id,
                name: productToAdd.name,
                price: productToAdd.price,
                image: productToAdd.image,
                quantity: 1,
              }]);
              console.log("Added new item to cart:", productToAdd.name);
            }
            setModalContent(`${productToAdd.name} añadido al carrito.`);
            setShowModal(true);
          };

          const updateCartItemQuantity = (itemId, newQuantity) => {
            console.log("Updating cart item quantity for itemId:", itemId, "to:", newQuantity);
            if (newQuantity <= 0) {
              removeCartItem(itemId);
              return;
            }
            setCartItems(cartItems.map(item =>
              item.id === itemId
                ? { ...item, quantity: newQuantity }
                : item
            ));
            console.log("Quantity updated for itemId:", itemId);
          };

          const removeCartItem = (itemId) => {
            console.log("Removing cart item with itemId:", itemId);
            setCartItems(cartItems.filter(item => item.id !== itemId));
            setModalContent("Producto eliminado del carrito.");
            setShowModal(true);
          };

          const clearCart = () => {
            console.log("Clearing cart.");
            setCartItems([]); // Empty the cart
            setModalContent("Tu carrito ha sido vaciado."); // Updated message
            setShowModal(true);
          };

          // Modal Component for messages
          const Modal = ({ message, onClose }) => {
            return (
              <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
                <div className="bg-gray-900 text-white p-6 rounded-xl shadow-lg max-w-sm w-full border border-purple-700">
                  <p className="text-lg text-center mb-4">{message}</p>
                  <button
                    onClick={onClose}
                    className="w-full bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white py-2 px-4 rounded-md hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 transform hover:scale-105"
                  >
                    Cerrar
                  </button>
                </div>
              </div>
            );
          };

          // Navigation Component
          const Navigation = ({ setActiveSection, cartItemCount, showMobileMenu, setShowMobileMenu }) => (
            <nav className="bg-black bg-opacity-80 text-white p-4 shadow-lg fixed w-full z-40 top-0 backdrop-blur-sm">
              <div className="container mx-auto flex justify-between items-center flex-wrap">
                <div className="flex items-center">
                    {/* Consistent logo path for navigation */}
                    <img src="20241206_081651.png" alt="GrafikLand Logo" className="h-12 w-auto mr-3 rounded-full shadow-lg border border-purple-500" />
                    <div className="text-2xl md:text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-red-500">
                        GrafikLand DTF & Sublimación
                    </div>
                </div>
                <div className="md:hidden">
                  <button onClick={() => setShowMobileMenu(!showMobileMenu)} className="text-white focus:outline-none p-2 rounded-md hover:bg-gray-700">
                    <svg className="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16m-4 6h4"></path>
                    </svg>
                  </button>
                </div>
                <ul className="hidden md:flex space-x-6 items-center">
                  <li><button onClick={() => setActiveSection('home')} className="hover:text-purple-400 transition-colors duration-200 text-lg font-medium">Inicio</button></li>
                  <li><button onClick={() => setActiveSection('products')} className="hover:text-pink-400 transition-colors duration-200 text-lg font-medium">Productos</button></li>
                  <li><button onClick={() => setActiveSection('about')} className="hover:text-yellow-400 transition-colors duration-200 text-lg font-medium">Quiénes Somos</button></li>
                  <li><button onClick={() => setActiveSection('news')} className="hover:text-green-400 transition-colors duration-200 text-lg font-medium">Noticias</button></li>
                  <li><button onClick={() => setActiveSection('contact')} className="hover:text-blue-400 transition-colors duration-200 text-lg font-medium">Contacto</button></li>
                  <li>
                    <button onClick={() => setActiveSection('cart')} className="relative hover:text-red-400 transition-colors duration-200 text-lg font-medium">
                      🛒 Carrito ({cartItemCount})
                    </button>
                  </li>
                </ul>
              </div>
              {/* Mobile Menu */}
              <div className={`md:hidden ${showMobileMenu ? 'block' : 'hidden'} w-full bg-gray-900 bg-opacity-90 rounded-b-lg mt-2 py-2`}>
                <ul className="flex flex-col space-y-2 px-4">
                  <li><button onClick={() => { setActiveSection('home'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg">Inicio</button></li>
                  <li><button onClick={() => { setActiveSection('products'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg">Productos</button></li>
                  <li><button onClick={() => { setActiveSection('about'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg">Quiénes Somos</button></li>
                  <li><button onClick={() => { setActiveSection('news'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg">Noticias</button></li>
                  <li><button onClick={() => { setActiveSection('contact'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg">Contacto</button></li>
                  <li>
                    <button onClick={() => { setActiveSection('cart'); setShowMobileMenu(false); }} className="block py-2 px-4 hover:bg-gray-800 rounded-md text-lg relative">
                      🛒 Carrito ({cartItemCount})
                    </button>
                  </li>
                </ul>
              </div>
            </nav>
          );

          // Home Page Component
          const HomePage = ({ setActiveSection }) => {
            // These products are just for display on the home page, not the main product list
            const featuredProducts = [
              { id: '1', name: "Playera Personalizada", image: "https://placehold.co/600x400/1a202c/E0BBE4?text=Playera+DTF", description: "Diseños vibrantes y duraderos con estampado DTF.", price: 250.00, category: 'playeras' },
              { id: '2', name: "Taza Mágica Sublimada", image: "https://placehold.co/600x400/1a202c/957DAD?text=Taza+Sublimada", description: "Revela tu diseño con el calor.", price: 150.00, category: 'tazas' },
              { id: '3', name: "Gorra Bordada Premium", image: "https://placehold.co/600x400/1a202c/D291BC?text=Gorra+Personalizada", description: "Personalización de alta calidad para tu estilo.", price: 120.00, category: 'gorras' },
            ];

            return (
              <section id="home" className="min-h-screen bg-black text-white flex flex-col items-center justify-center pt-20">
                <div className="container mx-auto px-4 py-16 text-center">
                  <div className="mb-8">
                    {/* Consistent logo path for home page */}
                    <img src="20241206_081651.png" alt="GrafikLand Logo Grande" className="mx-auto h-40 md:h-64 w-auto rounded-full shadow-2xl border-4 border-purple-600 animate-pulse-slow" />
                  </div>
                  <h1 className="text-5xl md:text-6xl font-extrabold mb-6 leading-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 animate-pulse-slow">
                    No solo personalizamos, le damos vida a tus ideas.
                  </h1>
                  <p className="text-xl md:text-2xl mb-10 max-w-3xl mx-auto text-gray-300">
                    Transformamos tus conceptos en productos vibrantes y duraderos con estampado DTF y sublimación.
                  </p>

                  {/* Featured Products (simulated with grid for simplicity) */}
                  <div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                    {featuredProducts.map(product => (
                      <div key={product.id} className="bg-gray-900 bg-opacity-70 p-6 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 border border-gray-700 backdrop-blur-sm">
                        <img src={product.image} alt={product.name} className="w-full h-48 object-cover rounded-md mb-4 border border-gray-600" />
                        <h3 className="text-2xl font-semibold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-green-400">{product.name}</h3>
                        <p className="text-gray-400 mb-4">{product.description}</p>
                        <button
                          onClick={() => setActiveSection('products')}
                          className="bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 text-white py-3 px-8 rounded-full font-bold text-lg shadow-lg hover:from-blue-600 hover:via-cyan-600 hover:to-teal-600 transition-all duration-300 transform hover:scale-105"
                        >
                          Explora el Catálogo
                        </button>
                      </div>
                    ))}
                  </div>

                  <button
                    onClick={() => setActiveSection('products')}
                    className="bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white py-4 px-12 rounded-full font-bold text-xl shadow-xl hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 transform hover:scale-105 animate-bounce-slow"
                  >
                    ¡Crea tu diseño ahora!
                  </button>
                </div>
              </section>
            );
          };

          // Product Gallery/Catalog Component
          const ProductGallery = ({ products, addToCart }) => {
            const productCategories = {
              playeras: products.filter(p => p.category === 'playeras'),
              gorras: products.filter(p => p.category === 'gorras'),
              tazas: products.filter(p => p.category === 'tazas'),
              termos: products.filter(p => p.category === 'termos'),
              lapiceros: products.filter(p => p.category === 'lapiceros'),
              tequileros: products.filter(p => p.category === 'tequileros'),
              vasos: products.filter(p => p.category === 'vasos'),
            };

            return (
              <section id="products" className="min-h-screen bg-black text-white py-20 pt-32">
                <div className="container mx-auto px-4">
                  <h2 className="text-4xl md:text-5xl font-bold text-center mb-12 text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-yellow-400 to-lime-400">
                    Nuestros Productos Personalizables
                  </h2>

                  {Object.entries(productCategories).map(([category, prods]) => (
                    <div key={category} className="mb-16">
                      <h3 className="text-3xl font-semibold mb-8 capitalize text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">
                        {category.charAt(0).toUpperCase() + category.slice(1)}
                      </h3>
                      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                        {prods.length > 0 ? prods.map(product => (
                          <div key={product.id} className="bg-gray-900 bg-opacity-70 rounded-xl shadow-lg overflow-hidden transform hover:scale-105 transition-transform duration-300 border border-gray-700 backdrop-blur-sm">
                            <img src={product.image} alt={product.name} className="w-full h-56 object-cover border-b border-gray-700" />
                            <div className="p-6">
                              <h4 className="text-xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">{product.name}</h4>
                              <p className="text-gray-400 text-sm mb-4 line-clamp-3">{product.description}</p>
                              <p className="text-2xl font-semibold text-green-400 mb-4">${product.price.toFixed(2)}</p>
                              <button
                                onClick={() => addToCart(product)}
                                className="w-full bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white py-2 px-4 rounded-md font-semibold hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 transform hover:scale-105"
                              >
                                Añadir al Carrito
                              </button>
                            </div>
                          </div>
                        )) : (
                          <p className="text-gray-400 col-span-full text-center">No hay productos disponibles en esta categoría.</p>
                        )}
                      </div>
                    </div>
                  ))}
                </div>
              </section>
            );
          };

          // Shopping Cart Component
          const ShoppingCart = ({ cartItems, products, updateCartItemQuantity, removeCartItem, clearCart }) => {
            const total = cartItems.reduce((sum, item) => {
              // Find the original product to get its current price
              const product = products.find(p => p.id === item.productId);
              return sum + (pr